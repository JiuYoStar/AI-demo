# 🖥️ 服务器集群（Server Cluster）学习资料

## 1. 什么是服务器集群？
- **服务器集群** 是由多台服务器组成的一个整体，对外表现为一个统一的系统。
- 集群中的服务器通过网络互联，协同工作，共同完成某项任务。
- 目的：提升 **性能**、**可靠性** 和 **可扩展性**。

简单理解：
- 一台服务器 = 单兵作战
- 多台服务器组成集群 = 团队协作

---

## 2. 集群的工作原理
1. **负载分担**
   - 集群前端通常有一个 **负载均衡器 (Load Balancer)**。
   - 它把用户请求分配到不同服务器，避免单台机器过载。

2. **高可用性 (High Availability, HA)**
   - 如果某台服务器宕机，其他服务器会自动接管任务。
   - 用户几乎不会察觉，保证服务连续性。

3. **数据一致性**
   - 通过共享存储或分布式数据库，保证数据在不同节点之间一致。
   - 常用方法：复制、同步、分片。

4. **横向扩展 (Scale-Out)**
   - 当业务压力增大时，可以 **增加服务器节点** 来提升整体性能。
   - 比纵向升级（买更强的单机）更灵活。

---

## 3. 常见的集群类型
- **负载均衡集群 (Load Balancing Cluster)**
  - 多台服务器处理同类请求，前端有负载均衡器分配流量。
  - 应用场景：网站服务器、API 服务。

- **高可用集群 (High Availability Cluster)**
  - 主备模式：主节点挂了，备用节点自动接管。
  - 应用场景：数据库、核心业务系统。

- **高性能计算集群 (HPC Cluster)**
  - 多台服务器并行计算，解决科学研究、大数据、AI 训练等问题。
  - 应用场景：科研计算、AI 训练。

- **存储集群 (Storage Cluster)**
  - 多台服务器组成统一存储系统。
  - 应用场景：对象存储（如 MinIO）、分布式文件系统（HDFS、Ceph）。

---

## 4. 在公司中的常见使用方式
1. **Web 服务**
   - 网站、APP 后端通常部署在 Web 集群里。
   - Nginx/HAProxy 作为负载均衡，后端多台应用服务器提供服务。

2. **数据库集群**
   - 使用 MySQL 主从复制、PostgreSQL 高可用、MongoDB 副本集。
   - 确保数据库不会因为单点故障而瘫痪。

3. **缓存集群**
   - Redis、Memcached 集群，支撑高并发请求。
   - 常用于电商抢购、热点数据缓存。

4. **大数据 & AI**
   - Hadoop/Spark 集群用于海量数据分析。
   - GPU 集群用于 AI 模型训练。

5. **文件/对象存储**
   - 使用 MinIO、Ceph、HDFS 搭建存储集群。
   - 存放日志、图片、视频、模型文件。

---

## 5. 单机 vs 集群 vs 云计算

| 特性           | 单机服务器 | 服务器集群 | 云计算 |
|----------------|------------|------------|--------|
| **性能**       | 受限于单台硬件 | 多台服务器协作，性能可叠加 | 按需弹性伸缩，几乎无限 |
| **可靠性**     | 单点故障导致服务中断 | 高可用机制，单点故障不影响整体 | 由云厂商保障，故障自动迁移 |
| **扩展性**     | 纵向扩展（换更强硬件） | 横向扩展（增加节点） | 弹性扩容，秒级别增加资源 |
| **成本**       | 硬件一次性投资 | 多台服务器成本高，需运维 | 按使用付费，初期成本低 |
| **管理难度**   | 简单，单机维护 | 复杂，需要专业运维 | 简化，由云平台代管 |
| **应用场景**   | 小型网站、个人项目 | 中大型企业系统、数据库、大数据平台 | 初创公司、快速扩张业务、全球化服务 |

---

## 6. 优缺点
### 集群优点
- 高性能：多台机器并行处理请求。
- 高可用：单台服务器故障不会影响整体服务。
- 易扩展：可随业务增长扩容。

### 集群缺点
- 成本高：需要多台服务器 + 运维成本。
- 管理复杂：涉及网络、存储、同步、监控。
- 需要专业的运维团队保障稳定运行。

---

## ✅ 总结
- **单机**：适合个人、小项目，成本低，但易宕机。
- **集群**：适合企业中大型应用，稳定、可扩展，但需要专业运维。
- **云计算**：适合快速发展或全球化业务，弹性强，但依赖云厂商。

> 在现代企业里，**常见模式是“云计算 + 集群”结合**：
> 在云平台上搭建集群，既有弹性伸缩，又有高可靠性。
