# ğŸ Python æ¨å¯¼å¼ï¼ˆComprehensionsï¼‰å¯¹æ¯”

## 1ï¸âƒ£ åˆ—è¡¨æ¨å¯¼å¼ï¼ˆList Comprehensionï¼‰

```python
squares = [x*x for x in range(5)]
print(squares)  # [0, 1, 4, 9, 16]

# å¸¦æ¡ä»¶
evens = [x for x in range(10) if x % 2 == 0]
print(evens)  # [0, 2, 4, 6, 8]
```

ğŸ‘‰ ç­‰ä»·äºï¼š

```python
result = []
for x in range(5):
    result.append(x*x)
```

---

## 2ï¸âƒ£ é›†åˆæ¨å¯¼å¼ï¼ˆSet Comprehensionï¼‰

```python
unique_chars = {x for x in "hello" if x != "l"}
print(unique_chars)  # {'h', 'o', 'e'}
```

ğŸ‘‰ ç­‰ä»·äºï¼š

```python
result = set()
for x in "hello":
    if x != "l":
        result.add(x)
```

---

## 3ï¸âƒ£ å­—å…¸æ¨å¯¼å¼ï¼ˆDict Comprehensionï¼‰

```python
squares_map = {x: x*x for x in range(3)}
print(squares_map)  # {0:0, 1:1, 2:4}
```

ğŸ‘‰ ç­‰ä»·äºï¼š

```python
result = {}
for x in range(3):
    result[x] = x*x
```

---

## 4ï¸âƒ£ ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆGenerator Expressionï¼‰

```python
G = (x*x for x in range(5))
print(G)          # <generator object <genexpr>>
print(list(G))    # [0, 1, 4, 9, 16]
```

ğŸ‘‰ ç­‰ä»·äºï¼š

```python
def gen():
    for x in range(5):
        yield x*x
```

---

## ğŸ“Œ æ€»ç»“å¯¹æ¯”è¡¨

| ç±»å‹         | è¯­æ³•ç¤ºä¾‹                         | è¿”å›ç»“æœ                | å¯å˜æ€§  | åº”ç”¨åœºæ™¯      |
| ---------- | ---------------------------- | ------------------- | ---- | --------- |
| **åˆ—è¡¨æ¨å¯¼å¼**  | `[x*x for x in range(5)]`    | `[0,1,4,9,16]`      | âœ… å¯å˜ | å¿«é€Ÿæ„å»ºåˆ—è¡¨    |
| **é›†åˆæ¨å¯¼å¼**  | `{x for x in "hello"}`       | `{'h','e','l','o'}` | âœ… å¯å˜ | å»é‡ã€é›†åˆè¿ç®—   |
| **å­—å…¸æ¨å¯¼å¼**  | `{x: x*x for x in range(3)}` | `{0:0,1:1,2:4}`     | âœ… å¯å˜ | æ˜ å°„æ„å»º      |
| **ç”Ÿæˆå™¨è¡¨è¾¾å¼** | `(x*x for x in range(5))`    | `<generator>`       | âŒ æƒ°æ€§ | èŠ‚çœå†…å­˜ã€æµå¼è®¡ç®— |

---

## ğŸŒ å’Œ JavaScript å¯¹æ¯”

* Python æ›´å–œæ¬¢ **æ¨å¯¼å¼**ï¼Œè¯­æ³•ç®€æ´ç›´è§‚
* JavaScript ç”¨ `map` / `filter` / `reduce` å®ç°ç±»ä¼¼åŠŸèƒ½

### Python

```python
[x*x for x in range(5)]         # [0,1,4,9,16]
[x for x in range(5) if x%2==0] # [0,2,4]
```

### JavaScript

```javascript
[...Array(5).keys()].map(x => x*x)            // [0,1,4,9,16]
[...Array(5).keys()].filter(x => x%2===0)     // [0,2,4]
```



### ç‰¹æ®Šçš„

| å½¢å¼                                   | è¯´æ˜           | ç¤ºä¾‹                                              |
| -------------------------------------- | -------------- | ------------------------------------------------- |
| `[expr for x in iterable]`             | åŸºæœ¬å½¢å¼       | `[x*x for x in range(5)]`                         |
| `[expr for x in iterable if cond]`     | å¸¦è¿‡æ»¤æ¡ä»¶     | `[x for x in range(10) if x%2==0]`                |
| `[A if cond else B for x in iterable]` | ä¸‰å…ƒæ¡ä»¶è¡¨è¾¾å¼ | `["even" if x%2==0 else "odd" for x in range(6)]` |
| `[expr for x in X for y in Y]`         | å¤šå±‚å¾ªç¯       | `[f"{x}-{y}" for x in X for y in Y]`              |

```python
result1 = [f"{x}-{y}-{z}" for x in range(3) for y in range(3) for z in range(3)]
ä¸‰å±‚å¾ªç¯ >>> è¿™æ˜¯å›ºå®šæ­é…
```

